{% extends 'base.html.jinja' %}
{% block title %} Advent of code 2025 - Day {{ day_index }} {% endblock %}
{% block js_and_css %}
  <script
    type="py"
    src="/script/days/day_{{ day_index }}.py"
    config="/script/pyconfig.toml"
  ></script>
{% endblock %}
{% block content %}
<div class="container-fluid">
  {% include 'intro.html.jinja' %}
  {% with day_number=day_index %}
    {% include 'nav.html.jinja' %}
  {% endwith %}
  <div
    id="day{{ day_index }}"
    class="container border border-dark border-4 rounded-3 my-4"
  >
    <div id="loading-spinner" class="d-flex justify-content-center">
      <div class="spinner-grow pixel-square text-primary my-2" role="status">
        <span class="visually-hidden">Loading...</span>
      </div>
      <div class="spinner-grow pixel-square text-primary my-2 mx-1" role="status">
        <span class="visually-hidden">Loading...</span>
      </div>
      <div class="spinner-grow pixel-square text-primary my-2" role="status">
        <span class="visually-hidden">Loading...</span>
      </div>
    </div>
    <h2 class="mt-2" id="day-title-{{ day_index }}"></h2>
    {% if day_index == 10 %}
      <div class="alert-info my-2 border border-primary rounded">
        <p class="m-1">
          /!\ The solutions for day 10 do not run with pyscript in the browser because the
          library used, z3 (a satisfiability modulo theories (SMT) solver developed),
          is written in C++ and does not run with pyscript.
          I ran the Python scripts on my machine. The solutions are still correct, and you
          can run them on your computer.
        </p>
      </div>
    {% endif %}
    <div class="container">
      {% for exercice in range(1, 3) %}
        <div id="day{{ day_index }}-{{ exercice }}" class="mb-3">
          <h4 class="text-primary">
            {% set exercice_link = part_1 if exercice == 1 else part_2 %}
            <a href="{{ exercice_link }}">Exercice {{ exercice }} </a>
          </h4>
          <h5 class="ms-2 text-decoration-underline text-secondary">State</h5>
          <div class="ms-4">
            <p id="state-{{ day_index }}-{{ exercice }}"></p>
          </div>
          <h5 class="ms-2 text-decoration-underline text-success">Solution</h5>
          <div class="ms-4 spoiler">
            <pre
              class="rounded ps-2"
              id="code-{{ day_index }}-{{ exercice }}"
            ></pre>
            <span id="result-{{ day_index }}-{{ exercice }}"></span>
          </div>
        </div>
      {% endfor %}
    </div>
  </div>
</div>
{% endblock %}
